<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title><%= title %></title>
</head>
<body>
     <%- include('../partials/nav') %>

     <h1><%= title %></h1>
     
     <form action="/games/<%= game.id %>/modify" method="post">
          <label for="title">Title of game: </label>
          <input type="text" name="title" id="title" value="<%= game.title %>" required> <br>

          <label for="release_date">Release Date: </label>
          <input type="date" name="release_date" id="release_date" value="<%= (new Date(game.release_date)).toISOString().split('T')[0]; %>" required> <br>
          
          <label for="developer_id">Change developer for this game:</label>
          <select name="developer_id" id="developer_id">
               <% developers.forEach(dev => { %>
                    <option
                         value="<%= dev.id %>" 
                         <% if(dev.id === game.developer_id) { %>
                              selected     
                         <% } %> 
                         >
                         <%= dev.name %> 
                    </option>
               <% }) %>
          </select> <br>

          <!-- Hidden input field to include id in the POST request -->
          <input type="hidden" name="id" value="<%= game.id %>">

          <button type="submit">Modify game</button>

     </form>

     <a href="/games/<%= game.id %>">Back to game</a>

</body>
</html> 
